<ion-header>
    <ion-toolbar color="primary">
        <ion-buttons slot="start">
            <ion-button (click)="toggleFilter()">
                <ion-icon name="funnel"></ion-icon>
            </ion-button>
        </ion-buttons>
        <ion-title>
            Drivers
        </ion-title>
        <ion-buttons slot="end">
            <ion-button>
                <ion-icon name="exit"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-list>
        <ion-list-header>
            <h4>Online</h4>
        </ion-list-header>
        <ion-item *ngFor="let driver of 
        (driversService.getDrivers()
        |async
        |online:true
        |sorting:(filter$|async))" class="ion-activatable" (click)="selectDriver(driver)">
            <ion-avatar class="ion-margin-end">
                <ion-img src="https://justice.org.au/wp-content/uploads/2017/08/avatar-icon.png">
                </ion-img>
            </ion-avatar>
            <ion-label>
                <h2>{{driver.name}}</h2>
                <div style="display:flex">
                    <ion-icon name="pin"></ion-icon>
                    <ion-label class="ion-padding-start">Paderborn</ion-label>
                    <ion-icon class="ion-padding-start" name="sync"></ion-icon>
                    <ion-label class="ion-padding-start">{{driver.lastUpdate|ago}}</ion-label>
                </div>
            </ion-label>
            <ion-icon name="arrow-dropright"></ion-icon>
            <ion-ripple-effect></ion-ripple-effect>
        </ion-item>
    </ion-list>

    <ion-list>
        <ion-list-header>
            <h4>Offline</h4>
        </ion-list-header>
        <ion-item *ngFor="let driver of 
        (driversService.getDrivers()
        |async
        |online:false
        |sorting:(filter$|async))" class="ion-activatable" (click)="selectDriver(driver)">
            <ion-avatar class="ion-margin-end">
                <ion-img src="https://justice.org.au/wp-content/uploads/2017/08/avatar-icon.png">
                </ion-img>
            </ion-avatar>
            <ion-label>
                <h2>{{driver.name}}</h2>
                <div style="display:flex">
                    <ion-icon name="pin"></ion-icon>
                    <ion-label class="ion-padding-start">Paderborn</ion-label>
                    <ion-icon class="ion-padding-start" name="sync"></ion-icon>
                    <ion-label class="ion-padding-start">{{driver.lastUpdate|ago}}</ion-label>
                </div>
            </ion-label>
            <ion-icon name="arrow-dropright"></ion-icon>
            <ion-ripple-effect></ion-ripple-effect>
        </ion-item>
    </ion-list>
</ion-content>